                          -----------
    RoadMap Quickstart, and Installing on Familiar Linux / GPE
                          -----------
                          -----------
                         October 2007

INTRODUCTION

   This document describes the most basic steps you'll need to perform
   in order to get RoadMap running on your system.  More detailed
   information is available in the README file (which also appears on
   the web -- see the URL below).  In addition, later sections of this
   document describe installation under the "Familiar" distribution of
   Linux, for the Sharp Zaurus.


QUICKSTART

   To build RoadMap for a "standard" linux/unix environment, follow
   the following steps:

     * Read the commentary in "config.mk", and edit the values there
       to select your build options.  For most users, no other
       configuration choices should be necessary.
       
     * Run "make".  (RoadMap requires GNU make, and may require gcc).
       
     * Run "make install".  This will install the executables as well
       as important data files.  It will _not_ install any map data,
       however.  At this point you should be able to run "roadmap",
       but it will tell you there are no maps.

     * To test drive RoadMap for the first time, download the
       "demo" maps from:

	 {{http://roadmap.digitalomaha.net/maps/demo_maps.tar.gz}}

       This tarball contains state outlines for all of the continental
       USA, plus the detailed map of San Francisco county.  Unpack
       this file somewhere convenient, e.g. /tmp/demo_maps.

     * Start RoadMap, specifying the path that you chose above:

----
	roadmap --maps=/tmp/demo_maps
----

       Use the arrow keys (or drag with the mouse) to pan, and use the
       on-screen controls or the '+' and '-' keys to zoom.  RoadMap's
       help text is available in html format via the Help menu (which
       reads the installed copy of "manual.html") or in plaintext in
       the README file.  Use the 'q' key or the File->Quit menu
       item to quit.

     * When you're ready to download a more complete set of maps, get
       them from

	 {{http://roadmap.digitalomaha.net/maps.html}}

       Be sure to get the master index file in addition to any maps
       you may need.  Unpack these into a more permanent home than
       before -- under "/var/lib/roadmap", or in your home directory,
       under "~/.roadmap/maps".  If you choose a different directory
       than either of these, you'll need to navigate to the "Map"
       preferences panel (File-->Preferences->Map), and enter the 
       chosen path as Map.Path.


   For more complete installation and configuration information,
   please consult the "INSTALLATION" section of the README file.
   The README is on the web, here:

         {{http://roadmap.digitalomaha.net/manual.html}}

   Good luck, and have fun!


INSTALLATION ON FAMILIAR

   The remaining sections of this document describe the installation
   of RoadMap, on an ARM-powered PDA running Familiar Linux and the
   GPE graphic environment.  Users of that system should consult
   the README (or the above URL) as well.

   Some of the instructions below are dated.  Proceed with caution.

BEFORE THE INSTALL

* Removing a prior installation of RoadMap

   Since RoadMap 1.0.4 the path to the maps has changed. In addition there is
   no more package for the maps (the maps are too big for that and there was
   only one example map anyway). Therefore the roadmap-sfca package should be
   removed first

----
   ipkg remove roadmap-sfca
----

   The name of the RoadMap package has also changed from roadmap-gtk2 to
   roadmap. Therefore the roadmap-gtk2 package should be removed:

----
   ipkg remove roadmap-gtk2
----


* Making room for RoadMap

   On a PDA with 32Mb of RAM, GPE takes most of the available space and less
   than 2Mb of RAM is left available. For RoadMap to work one need to make
   some room. The author recommends removing xstroke and the GPE help from
   the bottom panel.

   Another problem is a bug in the Familiar X server that causes the file
   ~/.xsession-errors to grow infinitely in the ramdisk, eating up all the
   available RAM in a matter of days.
   
   The work-around is to not start the ipaq-sleep daemon. To do this,
   comment out the line "/etc/init.d/ipaq-sleep start" in the file:

----
           /etc/X11/Xsession.d/69ipaq-sleep
----


* Installing gpsd

   RoadMap depends on gpsd for receiving data from the GPS device. Therefore
   the gpsd package must be installed:

----
   ipkg install gpsd
----

   Once this has been done, the serial line must be configured for using gpsd
   (see the serial line configuration tool in the Settings folder).

* Installing flite

   RoadMap uses flite for generating the voice announcements. RoadMap
   can be used without flite, but it will stay silent then.

   Note that flite is a very big program: it should be installed on the
   MMC, SD or CompactFlash (CF) card. Installing flite is easy: just copy
   the executable file. The problem is more where to find the executable..


INSTALLING ROADMAP

   There are three steps: first install the RoadMap package, then install
   some maps and last setup your preferences if you installed RoadMap in
   a custom way.


* Installing the package

   There is very little to say here. RoadMap takes less than 300Kb of space,
   uncompressed. It installs itself in /usr/bin and /usr/share/pixmaps:

----
   ipkg install roadmap                 (if your feed provides RoadMap)
   ipkg install roadmap_X.Y.Z_arm.ipk   (if you transfered the package)
----


* Installing maps

   The RoadMap package is preconfigured for maps stored either in a MMC, SD or
   CompactFlash (CF) card. The map files must be installed in a subdirectory
   of the device's root directory named "share/roadmap". The reason for that
   is to follow standard UNIX convention and make it easier to store other
   types of data in the device (such as MP3 files).

   The file system used for the device is indifferent (RoadMap maps comply
   with the 8+3 limitation of the FAT file system) but VFAT is recommended
   (if only because this is the factory default file system).

   The map files can be retrieved from the RoadMap site:

       * {{http://roadmap.sourceforge.net}}

   The first file to install in the share/roadmap subdirectory is the file
   named "usdir.rdm". This file is mandatory: this is the index used to
   retrieve all other map files. All other files are optional: one can load
   a limited subset of maps only. If a map is not available, RoadMap will
   issue a warning message.


* Setting the user preferences

   Start Roadmap, select <<File / Preferences>>. The preferences dialog is
   made of a (long) serie of tabbed screens. Most preferences do not need
   to be modified.

